(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4536f9a"],{"2fbc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("nav",{attrs:{"aria-label":"breadcrumb bg-transparent rounded"}},[a("ol",{staticClass:"breadcrumb rounded bg-white"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:"/"}},[t._v("Inicio")])],1),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.currentPageName)+" ")])])])])])},r=[],n={name:"Breadcrumb",props:{currentPageName:String}},o=n,c=a("2877"),i=Object(c["a"])(o,s,r,!1,null,null,null);e["a"]=i.exports},"9eb3":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a481");var s=a("d225"),r=a("b0b4"),n=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"cpf",value:function(t){return t.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4")}},{key:"phone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return null==t?"":11==t.length?t.replace(/(\d{2})(\d{5})(\d{4})/g,"($1) $2-$3"):10==t.length?t.replace(/(\d{2})(\d{4})(\d{4})/g,"($1) $2-$3"):t}},{key:"money",value:function(t){return"R$ "+parseFloat(t).toFixed(2).replace(".",",")}},{key:"productSize",value:function(t){switch(t){case"p":return"pequeno";case"m":return"médio";case"g":return"grande";default:return t}}},{key:"productGenre",value:function(t){switch(t){case"m":return"masculino";case"f":return"feminino";case"u":return"Unisex";default:return t}}},{key:"status",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(t){case"pendente":return e?"Pendente":'<span class="badge badge-warning">Pendente</span>';case"entregue":return e?"Entregue":'<span class="badge badge-success">Entregue</span>';case"aguardando_retirada":return e?"Aguardando Retirada":'<span class="badge badge-info">Aguardando Retirada</span>';case"em_concerto":return e?"Em Concerto":'<span class="badge badge-danger">Em Concerto</span>';default:return e?t:'<span class="badge badge-light">'.concat(t," (Erro no banco)</span>")}}}]),t}()},a314:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 col-lg-10"},[a("Breadcrumb",{attrs:{currentPageName:t.headerTitle}}),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12"},[a("h4",{staticClass:"bg-primary p-2 text-white rounded"},[t._v(t._s(t.headerTitle))]),a("section",{staticClass:"bg-white p-3 mt-3 rounded"},[a("h3",[t._v("Informações do Pedido")]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Código do Pedido:")]),t._v(" "+t._s(t.orderInfo.id)+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Nome do Cliente:")]),t._v(" "+t._s(t.orderInfo.customer.nome)+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("CPF do Cliente:")]),t._v(" "+t._s(t.OutputHelper.cpf(t.orderInfo.customer.cpf))+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Data de Entrega:")]),t._v(" "+t._s(t.orderInfo.data_entrega)+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Hora da Entrega:")]),t._v(" "+t._s(t.orderInfo.hora_entrega)+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Desconto:")]),t._v(" "+t._s(t.OutputHelper.money(t.orderInfo.desconto))+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Valor:")]),t._v(" "+t._s(t.OutputHelper.money(t.orderInfo.valor))+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Valor com desconto:")]),t._v(" "+t._s(t.OutputHelper.money(t.orderInfo.valor-t.orderInfo.desconto))+" ")])]),a("div",{staticClass:"col-12 col-sm-6"},[a("p",[a("strong",[t._v("Status:")]),a("span",{staticClass:"text-capitalize h4",domProps:{innerHTML:t._s(t.OutputHelper.status(t.orderInfo.status))}})])])])]),a("section",{staticClass:"bg-white p-3 mt-3 rounded"},[a("h3",[t._v("Items do Pedido")]),a("hr"),a("div",{staticClass:"row justify-content-center"},t._l(t.orderInfo.items,(function(e,s){return a("div",{key:s,staticClass:"col-12 py-3"},[s!=Object.keys(t.orderInfo.items).length-1?a("div",{staticClass:"border-bottom p-2 rounded"},[a("ServiceTable",{attrs:{item:e}})],1):a("div",{staticClass:"p-2 rounded"},[a("ServiceTable",{attrs:{item:e}})],1)])})),0)]),a("section",{staticClass:"bg-white p-3 mt-3 rounded"},[a("h3",[t._v("Ações")]),a("hr"),a("div",{staticClass:"row align-items-end justify-content-between"},[a("div",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"row align-items-end"},[a("div",{staticClass:"col-12 col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Selecione o novo status")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderStatusSelect.value,expression:"orderStatusSelect.value"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.orderStatusSelect,"value",e.target.multiple?a:a[0])}}},t._l(t.orderStatusSelect.options,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e))])})),0)])]),a("div",{staticClass:"col-12 col-sm-6"},[a("div",{staticClass:"form-group ml-sm-3 ml-0"},[a("button",{staticClass:"btn btn-primary w-100",on:{click:function(e){return t.updateStatus()}}},[t._v("Alterar Status")])])])])]),a("div",{staticClass:"col-12 col-lg-3"},[a("div",{staticClass:"form-group d-flex justify-content-end"},[a("button",{staticClass:"btn btn-danger w-100",on:{click:function(e){return t.deleteOrder()}}},[a("i",{staticClass:"material-icons"},[t._v("delete")]),t._v("Excluir ")])])])])])])])],1)])},r=[],n=a("2fbc"),o=a("9eb3"),c=a("3836"),i=a("bc3a"),l=a.n(i),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-borderless table-sm"},[a("tr",[t._m(0),a("td",[a("span",{staticClass:"text-capitalize"},[t._v(t._s(t.item.id))])])]),a("tr",[t._m(1),a("td",[a("span",{staticClass:"text-capitalize"},[t._v(t._s(t.item.tipo))])])]),a("tr",[t._m(2),a("td",[a("span",{staticClass:"text-capitalize"},[t._v(t._s(t.item.cor))])])]),a("tr",[t._m(3),a("td",[a("span",{staticClass:"text-capitalize"},[t._v(t._s(t.OutputHelper.productGenre(t.item.genero)))])])]),a("tr",[t._m(4),a("td",[a("span",{staticClass:"text-capitalize"},[t._v(t._s(t.OutputHelper.productSize(t.item.tamanho)))])])]),a("tr",[t._m(5),a("td",[a("span",{staticClass:"text-capitalize"},[t._v(t._s(t.OutputHelper.money(t.item.valor)))])])]),a("tr",[t._m(6),a("td",[a("span",{staticClass:"font-italic"},[t._v(t._s(t.item.descricao))])])])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Código do item:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Tipo:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Cor:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Gênero:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Tamanho:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Valor:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"w-25"},[a("strong",[t._v("Descrição do pedido:")])])}],p={name:"ServiceTable",props:{item:Object},data:function(){return{OutputHelper:o["a"]}}},v=p,m=a("2877"),_=Object(m["a"])(v,d,u,!1,null,null,null),f=_.exports,g={components:{Breadcrumb:n["a"],ServiceTable:f},created:function(){this.getOrderInfo()},data:function(){return{OutputHelper:o["a"],headerTitle:"Visualizar Pedido",redirectUrl:"/pedidos/listar",orderId:this.$route.params.id,orderInfo:{customer:{nome:"",cpf:""},status:""},orderStatusSelect:{value:o["a"].status("pendente",!0),options:{pendente:o["a"].status("pendente",!0),em_concerto:o["a"].status("em_concerto",!0),aguardando_retirada:o["a"].status("aguardando_retirada",!0),entregue:o["a"].status("entregue",!0)}}}},methods:{getOrderInfo:function(){var t=this;l.a.get("".concat("http://api.sapataria.local","/order/").concat(this.orderId)).then((function(e){t.orderInfo=e.data,t.orderStatusSelect.value=t.orderInfo.status})).catch((function(t){c["a"].modalError(t)}))},getDataToSend:function(){return{status:this.orderStatusSelect.value}},deleteOrder:function(){var t=this;l.a.delete("".concat("http://api.sapataria.local","/order/").concat(this.orderInfo.id)).then((function(e){c["a"].modalSuccess("Ok!",["Pedido deletado com sucesso!"]),t.$router.push({path:t.redirectUrl})})).catch((function(t){c["a"].modalError(t)}))},updateStatus:function(){var t=this;l.a.put("".concat("http://api.sapataria.local","/order/status/").concat(this.orderId),this.getDataToSend()).then((function(e){c["a"].modalSuccess("Muito bom!",["Status alterado com sucesso!"]),t.$router.push({path:t.redirectUrl})})).catch((function(t){c["a"].modalError(t)}))}}},h=g,b=Object(m["a"])(h,s,r,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-e4536f9a.d019ec2d.js.map